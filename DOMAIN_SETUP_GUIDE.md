# Инструкция по подключению домена

## Данные, которые нужно запросить у владельца домена:

### 1. Основная информация
- **Полное имя домена**: `remarket.cc`
- **IP-адрес сервера**: `85.192.30.220`
- **Email администратора** для SSL-сертификатов

### 2. DNS-записи для настройки
Владелец домена должен настроить следующие DNS-записи:

#### A-записи:
```
remarket.cc.     A    85.192.30.220
www.remarket.cc. A    85.192.30.220
```

#### CNAME-записи (опционально):
```
api.remarket.cc. CNAME remarket.cc.
```

### 3. Доступ к панели управления
- **Логин и пароль** от панели управления доменом
- **Или возможность делегировать управление DNS**

## Пошаговая инструкция для владельца домена:

### Шаг 1: Настройка DNS-записей
1. Войдите в панель управления доменом
2. Найдите раздел "DNS Management" или "Управление DNS"
3. Добавьте A-записи:
   - Имя: `@` (или оставьте пустым), Значение: `85.192.30.220`
   - Имя: `www`, Значение: `85.192.30.220`
4. Сохраните изменения

### Шаг 2: Ожидание распространения DNS
- DNS-записи распространяются от 15 минут до 48 часов
- Проверить можно командой: `nslookup remarket.cc`

### Шаг 3: Предоставление доступа
Предоставьте один из вариантов:
- Логин/пароль от панели управления доменом
- Возможность редактировать DNS-записи
- Или выполните настройку самостоятельно по инструкции

## Пошаговая инструкция для администратора сервера:

### Шаг 1: Подготовка
```bash
# Сделать скрипт исполняемым
chmod +x setup_domain.sh

# Отредактировать email в скрипте
nano setup_domain.sh
```

### Шаг 2: Запуск настройки
```bash
# Запуск настройки для домена remarket.cc
./setup_domain.sh remarket.cc
```

### Шаг 3: Проверка
```bash
# Проверить статус nginx
sudo systemctl status nginx

# Проверить SSL сертификат
sudo certbot certificates

# Проверить логи
sudo tail -f /var/log/nginx/remarket_error.log
```

## Проверка работоспособности:

### 1. Проверка DNS
```bash
nslookup remarket.cc
dig remarket.cc
```

### 2. Проверка HTTP/HTTPS
```bash
curl -I http://remarket.cc
curl -I https://remarket.cc
```

### 3. Проверка SSL
```bash
openssl s_client -connect remarket.cc:443 -servername remarket.cc
```

## Возможные проблемы и решения:

### Проблема: DNS не обновился
**Решение**: Подождать до 48 часов, проверить настройки DNS

### Проблема: SSL сертификат не получен
**Решение**: 
- Убедиться, что домен указывает на правильный IP
- Проверить, что порты 80 и 443 открыты
- Проверить логи nginx

### Проблема: Сайт не загружается
**Решение**:
- Проверить конфигурацию nginx: `sudo nginx -t`
- Проверить статус сервисов: `sudo systemctl status nginx`
- Проверить логи: `sudo tail -f /var/log/nginx/remarket_error.log`

## Дополнительные настройки:

### 1. Настройка почты (MX-записи)
Если планируется почта на домене:
```
example.com. MX 10 mail.example.com.
mail.example.com. A 85.192.30.220
```

### 2. Настройка поддоменов
Для API или других сервисов:
```
api.remarket.cc. A 85.192.30.220
admin.remarket.cc. A 85.192.30.220
```

### 3. Настройка безопасности
- Настройка SPF-записи для защиты от спама
- Настройка DMARC-записи
- Настройка CAA-записи для SSL

## Контакты для поддержки:
- **Email**: your-email@example.com
- **Telegram**: @your_username
- **Документация**: [ссылка на документацию] 